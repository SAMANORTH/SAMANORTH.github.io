<!DOCTYPE html>
<html lang='en'>

<head>
  <meta name="generator" content="Hexo 7.0.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  <title>The Mechanism of Air-entraining Admixture - 北方|BEIFANG</title>

  
  <meta name="description" content=" 

The air-entraining admixtures are commonly used to improve properties of fresh and hardened concrete. It is recommended to improve the workabili...">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="北方|BEIFANG" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  
</head>

<body>
  


  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    


<header class="header">

<div class="logo-wrap"><a class="avatar" href="/"><div class="bg" style="opacity:0;background-image:url(https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="/image/avatar.jpg" onerror="javascript:this.classList.add('error');this.src='https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></a><a class="title" href="/messages/"><div class="main">北方|BEIFANG</div><div class="sub normal cap">Ph.D. Student︱NTU</div><div class="sub hover cap" style="opacity:0">Nothing for nothing.</div></a></div>
<nav class="menu dis-select"><a class="nav-item active" href="/">Posts</a><a class="nav-item" href="/wiki/">Wiki</a><a class="nav-item" href="/messages/">Messages</a></nav></header>


<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">TOC</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Produce-tiny-dispersed-air-bubbles"><span class="toc-text">1.Produce tiny, dispersed air bubbles.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Provide-space-for-water-to-expand-upon-freezing"><span class="toc-text">2.Provide space for water to expand upon freezing.</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1The-osmotic-pressure-theory-Powers"><span class="toc-text">2.1The osmotic pressure theory(Powers)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2The-direction-of-water-penetration-in-concrete"><span class="toc-text">2.2The direction of water penetration in concrete</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0Air-bubble-2-with-smaller-size-than-capillary-pore"><span class="toc-text">①Air bubble 2 with smaller size than capillary pore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1Air-bubble-1-with-bigger-size-than-capillary-pore"><span class="toc-text">②Air bubble 1 with bigger size than capillary pore</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Pull-the-water-back-into-the-capillary-pores-upon-thawing"><span class="toc-text">3.Pull the water back into the capillary pores upon thawing.</span></a></li></ol></div></div></div>



</div><div class="Aplayer">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SAMANORTH/SAMANORTH.github.io@master/css/aplayerst.css">
<div id="aplayer"></div>
<script src="https://cdn.jsdelivr.net/gh/SAMANORTH/SAMANORTH.github.io@master/aplayer.reversed.main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/color-thief-don@2.0.2/src/color-thief.js"></script>
<script>
  const ap = new APlayer({
    container: document.getElementById('aplayer'),
    autoplay: false, //自动播放
    listFolded: true, //播放列表默认折叠
    listMaxHeight: 90, //播放列表最大高度
    order: 'list', //音频循环顺序, 可选值: 'list', 'random'
    loop: 'all', //音频循环播放, 可选值: 'all', 'one', 'none'
    theme: '#e9e9e9', //切换音频时的主题色，优先级低于audio.theme
    preload: 'none', //音频预加载，可选值: 'none', 'metadata', 'auto'
    mutex: true, //互斥，阻止多个播放器同时播放，当前播放器播放时暂停其他播放器
    lrcType: 3, //歌词格式，可选值：3（LRC文件歌词格式），1（JS字符串歌词格式）
    volume: 0.7, //默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效
    fixed: false, //吸底模式（fixed:true），迷你模式（mini:true），普通模式（注释此行或者设置fixed:false）
    audio: [{
          name: 'Out of Control',
        artist: 'Gloria Tells',
        lrc: '/music/Out of Control/Out of Control.lrc',
        cover: '/music/Out of Control/Out of Control.jpg',
        url: '/music/Out of Control/Out of Control.mp3'
      },
      {
        name: 'Shivers',
        artist: 'Loving Caliber',
        lrc: '/music/Shivers/Shivers.lrc',
        cover: '/music/Shivers/Shivers.jpg',
        url: '/music/Shivers/Shivers.mp3'
      },
      {
      name: 'In and Out of Love',
        artist: 'The Eastern Plain',
        lrc: '/music/In and Out of Love/In and Out of Love.lrc',
        cover: '/music/In and Out of Love/In and Out of Love.jpg',
        url: '/music/In and Out of Love/In and Out of Love.mp3'
      }
    ]
  });

  //实现切换音频时，根据音频的封面图片自适应主题色
  const colorThief = new ColorThief();
  const setTheme = (index) => {
    if (!ap.list.audios[index].theme) {
      colorThief.getColorAsync(ap.list.audios[index].cover, function(color) {
        ap.theme(`rgb(${color[0]}, ${color[1]}, ${color[2]})`, index);
      });
    }
  };
  setTheme(ap.list.index);
  ap.on('listswitch', (data) => {
    setTheme(data.index);
  });
</script>
</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" title="RSS" href="/atom.xml" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/image/css.svg"/></a><a class="social" title="Weibo" href="https://weibo.com/u/5613132323" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/image/weibo.svg"/></a><a class="social" title="Instagram" href="https://www.instagram.com/samanorth" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/image/ins.svg"/></a><a class="social" title="Mail" href="mailto:beifang001@e.ntu.edu.sg" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/image/mail.svg"/></a></div></footer>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">Home</a><span class="sep"></span><a class="cap breadcrumb" href="/">Blog</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Advanced-Concrete/">Advanced Concrete</a></div><div id="post-meta">Posted on&nbsp;<time datetime="2022-08-30T14:16:24.000Z">2022-08-30</time></div></div>

<article class='content md post'>
<h1 class="article-title"><span>The Mechanism of Air-entraining Admixture</span></h1>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML"> </script>

<p>The air-entraining admixtures are commonly used to improve properties of fresh and hardened concrete. It is recommended to improve the workability, resistance to freeze-thaw cycles, de-icing chemicals, sulfates and alkalis-silica reaction, while it is also noted that it would decrease strength of concrete.</p>
<p>So, what about the mechanism of air-entraining admixture? We focus more on its resistance to freeze-thaw cycles. The procedure is as follows:</p>
<h2 id="1-Produce-tiny-dispersed-air-bubbles"><a href="#1-Produce-tiny-dispersed-air-bubbles" class="headerlink" title="1.Produce tiny, dispersed air bubbles."></a>1.Produce tiny, dispersed air bubbles.</h2><p>First of all, air-entraining admixtures are kind of surface-active agents which acts at the air-water interface. The micro structure of the admixtures is much like a kind of detergents which contain <em><strong>Hydrophilic group（亲水基团）</strong></em> and <em><strong>Hydrophobic component（疏水部）</strong></em>. When we add it in cement, the Hydrophobic component will stick to the surface of the air bubble and leave the Hydrophilic group out. Then the combination of air bubble and detergents will float between the concrete particles.</p>
<p>So base on this cute structure, the air-entraining admixtures are able to cause water to foam during mixing. And the some fine foam could remain stable and eventually become air bubbles which are “locked” into cement paste during hardening. The air bubbles (which are formed from the foam caused by admixtures) are the key to our next study.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="1.png"></p>
<h2 id="2-Provide-space-for-water-to-expand-upon-freezing"><a href="#2-Provide-space-for-water-to-expand-upon-freezing" class="headerlink" title="2.Provide space for water to expand upon freezing."></a>2.Provide space for water to expand upon freezing.</h2><p>Actually it`s a little complicated but interesting process, I would like to introduce from <em><strong>The Osmotic Pressure Theory</strong></em> which is the basic of our discussion.</p>
<h3 id="2-1The-osmotic-pressure-theory-Powers"><a href="#2-1The-osmotic-pressure-theory-Powers" class="headerlink" title="2.1The osmotic pressure theory(Powers)"></a>2.1The osmotic pressure theory(Powers)</h3><p>Gibbs-Thomson equation gives the relationship between water freezing point and pore radius:<br>$$<br>In(\frac{T}{T_0}) = -2\frac{\Delta GV}{\Delta Hr}<br>$$<br>where:<br>$$<br>T = water\ temperature\ in\ pore<br>\\ T_0 = freezing\ point<br>\\ \Delta G = G(matrix/ice)-G(matrix/water)<br>\\ V = molar\ volume\ of\ water<br>\\ \Delta H = latent\ heat\ of\ fusion<br>\\ r = pore\ radius<br>$$<br>The curve can be plotted according to the equation:</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="2.png"></p>
<p>The relationship is obvious from the curve: Freezing temperature of the water depends on the size of the pore. The bigger the pore is, the easier water in the pore to be frozen. So, the water in capillary pores(10nm-10μm) shall freeze first compared to the gel pores(0.5-10nm).</p>
<p>Let`s take it a step further. When the water in capillary pores freezes, the energy would get lower because supercooled water (water &lt; 0°) has higher free energy than ice. And the concentration of the remaining unfrozen pore solution would increase because there is less water as it freezes.</p>
<p>Then according to the laws of thermodynamic and the theory of osmosis.</p>
<blockquote>
<p>The laws of the thermodynamic: Diffusion from high to low free energy.<br>The theory of osmosis: Diffusion along concentration gradients.</p>
</blockquote>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="3.png"></p>
<p>With these theories, we understand the mechanism of freeze-thaw damage of concrete: If much water flow from gel to capillaries and freezes, the capillary will become full and pressure will develop. When the pressure reaches a certain level, cracks will appear in the concrete.</p>
<p>So, we can identify the direction of concrete improvement: Make water flow out of the capillary pores as much as possible to avoid excessive pressure caused by ice expansion.</p>
<p>For convenience, let’s sketch the microstructure of cement.</p>
<h3 id="2-2The-direction-of-water-penetration-in-concrete"><a href="#2-2The-direction-of-water-penetration-in-concrete" class="headerlink" title="2.2The direction of water penetration in concrete"></a>2.2The direction of water penetration in concrete</h3><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="4.png"></p>
<p>As shown in the schematic diagram, \( V_{air-bubble1}&gt;V_{capillary pore}&gt;V_{air-bubble2} \).</p>
<p>According to the conclusions given by 2.1, the freezing temperature can be concluded as: \( T_0^{air-bubble1}&gt;T_0^{capillary pore}&gt;T_0^{air-bubble2} \). It means that the icing order is as follows: air-bubble1→capillary pore→air-bubble2.</p>
<p>Now we discuss the effect of bubble size on the permeation direction:</p>
<h4 id="①Air-bubble-2-with-smaller-size-than-capillary-pore"><a href="#①Air-bubble-2-with-smaller-size-than-capillary-pore" class="headerlink" title="①Air bubble 2 with smaller size than capillary pore"></a>①Air bubble 2 with smaller size than capillary pore</h4><p>If the size of air bubble is smaller than capillary pore, the water will flow from the gel pore to capillary pore according to the laws of thermodynamic and the theory of osmosis.</p>
<p>To be specific, the water in capillary pore shall freeze first so that the salt ions in the bubble are higher and the energy is lower. In this case, the air bubble 2 cannot prevent the water osmosis direction towards capillary pore because the air bubble does not have chance to absorb water and provide room for its freezing expansion. </p>
<h4 id="②Air-bubble-1-with-bigger-size-than-capillary-pore"><a href="#②Air-bubble-1-with-bigger-size-than-capillary-pore" class="headerlink" title="②Air bubble 1 with bigger size than capillary pore"></a>②Air bubble 1 with bigger size than capillary pore</h4><p>On the contrast, if the air bubble is bigger than capillary pore, then the water shall flow from the capillary pore and gel pore to the air bubble 1. It means that the air bubble 1 can effectively prevent moisture from penetrating the pores by providing a lower energy and lower concentration.</p>
<p>In other words, any water in the air bubbles will begin to freeze at a temperature close to 0° that allows the processes of osmosis and desorption, reducing the level of saturation in the adjacent cement paste. The air voids act as “safety valves” drawing water from cement paste and serving as reservoir.</p>
<p>What`s more, this conclusion also indicate that the distance between air bubbles must not be so far apart that water cannot pass through the pores to desorb. That is why we need <em><strong>Critical Spacing Factor</strong></em> (≤0.2mm, 9% of air entrainment by volume)</p>
<blockquote>
<p>Spacing factor: The distance of air voids must not be too great if osmotic pressure is to be relieved; hence the requirement of a critical spacing factor.</p>
<p>Spacing factor = average distance from any point in the paste to the edge of the nearest void, should not exceed 0.2mm(~9% of air entrainment by volume)</p>
</blockquote>
<p>Finally, we understand why we hope to control the air voids with a size bigger than the capillaries.</p>
<h2 id="3-Pull-the-water-back-into-the-capillary-pores-upon-thawing"><a href="#3-Pull-the-water-back-into-the-capillary-pores-upon-thawing" class="headerlink" title="3.Pull the water back into the capillary pores upon thawing."></a>3.Pull the water back into the capillary pores upon thawing.</h2><p>Upon thawing, the water in the air bubbles(also known as air voids) returns to the cement paste because of the higher surface tension in the smaller capillaries and pores.</p>
<p>Last but not least, we shall recognize the disadvantages of using air-entraining admixtures: it usually causes loss in concrete strength (for each 1% of air causes 5% loss in strength). So, nothing in the world is perfect, even the air content should be controlled in the most suitable degree.</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="5.png"></p>




</article>

<div class="related-wrap reveal" id="read-next"><section class="header cap theme"><span>READ NEXT</span></section><section class="body fs14"><a id="next" href="/2022/08/28/2022082801/">Response to Arbitrary Excitation<span class="note">Older</span></a><div class="line"></div><a id="prev" href="/2022/08/31/2022083101/">The Mechanism of Water Reducers<span class="note">Newer</span></a><div class="line"></div><a id="more" href="/archives">All Articles</a></section></div>






  <div class='related-wrap md-text reveal' id="comments">
    <div class='cmt-title cap theme'>
      Join the discussion
    </div>
    <div class='cmt-body waline'>
      

<div id="waline_container" class="waline_thread"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </div>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</p>
<p>This site was deployed by <a href="http://samanorth.github.io/">@Beifang</a> using <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.5.0" title="v1.5.0">Stellar</a>.</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.5.0';
  stellar.config = {
    date_suffix: {
      just: 'Just',
      min: 'minutes ago',
      hour: 'hours ago',
      day: 'days ago',
      month: 'months ago',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper/swiper-bundle.min.css","js":"https://unpkg.com/swiper/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function load_comment(){
    if(!document.getElementById("waline_container"))return;
    stellar.loadCSS('https://unpkg.com/@waline/client@v2/dist/waline.css');
    stellar.loadScript('https://unpkg.com/@waline/client@v2/dist/waline.js', {defer:true}).then(function () {
      const el = document.getElementById("waline_container");
      var path = el.getAttribute('comment_id');
      if (!path) {
        path = decodeURI(window.location.pathname);
      }
      Waline.init(Object.assign({"js":"https://unpkg.com/@waline/client@v2/dist/waline.js","css":"https://unpkg.com/@waline/client@v2/dist/waline.css","serverURL":"https://samanorth.github.io/","commentCount":true,"pageview":false,"locale":{"placeholder":null},"emoji":["https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs"]}, {
        el: '#waline_container',
        path: path,
      }));
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    load_comment();
  });

</script>




<!-- inject -->


  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300,"hOffset":0,"vOffset":0},"mobile":{"show":false},"react":{"opacity":0.7,"show":false},"log":false});</script></body>
</html>
